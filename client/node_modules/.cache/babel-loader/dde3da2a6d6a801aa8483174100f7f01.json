{"ast":null,"code":"var _jsxFileName = \"/Users/vladivals/Documents/ViralBear MRSS 5/client/src/AuthPage.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport Application from './Application';\n\nconst AuthPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const loginHandler = useCallback(async () => {\n    try {\n      const objHandler = {\n        email,\n        password\n      };\n      await axios.post('/login', objHandler, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        localStorage.setItem('token', response.data.token);\n        window.location.reload();\n      });\n    } catch (e) {\n      alert(e.message);\n    }\n  });\n  const registerHandler = useCallback(async () => {\n    const objHandler = {\n      email,\n      password\n    };\n    await axios.post('/register', objHandler, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => console.log(response.data));\n  });\n\n  const exitBtn = () => {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        float: \"center\"\n      },\n      onClick: () => {\n        localStorage.clear();\n        window.location.reload();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 36\n      }\n    }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\");\n  };\n\n  if (localStorage.getItem('token')) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Application, {\n      exitBtn: exitBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginTop: \"15vh\",\n      marginBottom: \"15vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s6 offset-s3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card blue darken-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-content white-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\",\n    id: \"email\",\n    type: \"text\",\n    name: \"email\",\n    className: \"yellow-input\",\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    className: \"yellow-input\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn yellow darken-4\",\n    style: {\n      marginRight: 10,\n      textAlign: \"center\",\n      margin: \"0 auto\",\n      display: \"block\",\n      fontWeight: \"500\"\n    },\n    onClick: loginHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))))));\n};\n\nexport default withRouter(AuthPage);","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","withRouter","axios","Application","AuthPage","email","setEmail","password","setPassword","loginHandler","objHandler","post","headers","then","response","localStorage","setItem","data","token","window","location","reload","e","alert","message","registerHandler","console","log","exitBtn","float","clear","getItem","display","justifyContent","marginLeft","marginRight","marginTop","marginBottom","textAlign","flexDirection","target","value","margin","fontWeight"],"sources":["/Users/vladivals/Documents/ViralBear MRSS 5/client/src/AuthPage.js"],"sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {withRouter } from \"react-router-dom\";\r\n\r\n\r\nimport axios from 'axios'\r\nimport Application from './Application'\r\n\r\n\r\nconst AuthPage = () => {\r\n const[email,setEmail]=useState('')\r\n  const [password, setPassword] = useState('')\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nconst loginHandler=useCallback(async()=>{\r\n    try{const objHandler={\r\n        email,password\r\n    }\r\n    await axios.post('/login',objHandler,{\r\n        headers:{\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }).then(response=>{\r\n          \r\n        localStorage.setItem('token',response.data.token)\r\n        window.location.reload()\r\n    } )}\r\n    catch(e){\r\n        alert(e.message)\r\n    }\r\n\r\n\r\n\r\n})\r\n\r\n\r\nconst registerHandler=useCallback(async()=>{\r\n\r\n    const objHandler={\r\n        email,password\r\n    }\r\n    await axios.post('/register',objHandler,{\r\n        headers:{\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }).then(response=>console.log(response.data)) \r\n\r\n    \r\n})\r\n\r\n  const  exitBtn = () =>  { return <button style={{float:\"center\"}} onClick={()=>{\r\n                localStorage.clear()\r\n                window.location.reload()\r\n                }}>\r\n              Выход\r\n            </button>\r\n}\r\n\r\nif (localStorage.getItem('token')){\r\n\r\n    return(\r\n      \r\n        <div>\r\n            \r\n       <Application exitBtn={exitBtn} />\r\n       \r\n       </div>    \r\n    )\r\n}\r\n\r\n\r\n  return (\r\n    \r\n    <div style={{\r\n      display:\"flex\",\r\n      justifyContent:\"center\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"15vh\",\r\n      marginBottom: \"15vh\",\r\n\r\n      \r\n      \r\n  }}>\r\n<div className=\"row\">\r\n  <div className=\"col s6 offset-s3\">\r\n    <h1 style={{textAlign: \"center\"}}>Вход</h1>\r\n    <div className=\"card blue darken-1\">\r\n      <div className=\"card-content white-text\">\r\n      \r\n        <div>\r\n\r\n          <div style={{\r\n              display:\"flex\",\r\n              flexDirection:\"column\"\r\n          }}className=\"input-field\">\r\n              <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              placeholder=\"Введите email\"\r\n              id=\"email\"\r\n              type=\"text\"\r\n              name=\"email\"\r\n              className=\"yellow-input\"\r\n              value={email}\r\n              onChange={(e)=>{setEmail(e.target.value)}}\r\n             \r\n            />\r\n            \r\n          </div>\r\n\r\n          <div  style={{\r\n              display:\"flex\",\r\n              flexDirection:\"column\"\r\n          }} className=\"input-field\">\r\n              <label htmlFor=\"email\">Пароль</label>\r\n            <input\r\n              placeholder=\"Введите пароль\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"yellow-input\"\r\n              value={password}\r\n              onChange={(e)=>{setPassword(e.target.value)}}\r\n              \r\n            />\r\n            \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn yellow darken-4\"\r\n          style={{marginRight: 10, textAlign: \"center\", margin: \"0 auto\",\r\n          display: \"block\",     fontWeight: \"500\"  }}\r\n         onClick={loginHandler}\r\n        >\r\n              Войти\r\n            </button>\r\n            {/* <button\r\n              className=\"btn yellow darken-4\"\r\n              style={{marginRight: 10}}\r\n              onClick={registerHandler}\r\n             \r\n            >\r\n              Регистрация\r\n            </button>\r\n          */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    \r\n  )\r\n  \r\n}\r\n\r\nexport default withRouter(AuthPage)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}