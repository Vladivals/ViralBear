{"ast":null,"code":"var _jsxFileName = \"/Users/vladivals/Documents/ViralBear with MRSS 3/client/src/AuthPage.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport Application from './Application';\n\nconst AuthPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const loginHandler = useCallback(async () => {\n    try {\n      const objHandler = {\n        email,\n        password\n      };\n      await axios.post('/login', objHandler, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        localStorage.setItem('token', response.data.token);\n        window.location.reload();\n      });\n    } catch (e) {\n      alert(e.message);\n    }\n  });\n  const registerHandler = useCallback(async () => {\n    const objHandler = {\n      email,\n      password\n    };\n    await axios.post('/register', objHandler, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => console.log(response.data));\n  });\n\n  if (localStorage.getItem('token')) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        float: \"right\",\n        marginTop: \"3vh\",\n        marginRight: \"0vh\"\n      },\n      onClick: () => {\n        localStorage.clear();\n        window.location.reload();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(Application, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginTop: \"15vh\",\n      marginBottom: \"15vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s6 offset-s3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card blue darken-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-content white-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\",\n    id: \"email\",\n    type: \"text\",\n    name: \"email\",\n    className: \"yellow-input\",\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    className: \"yellow-input\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn yellow darken-4\",\n    style: {\n      marginRight: 10,\n      textAlign: \"center\",\n      margin: \"0 auto\",\n      display: \"block\",\n      fontWeight: \"500\"\n    },\n    onClick: loginHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))))));\n};\n\nexport default withRouter(AuthPage);","map":{"version":3,"sources":["/Users/vladivals/Documents/ViralBear with MRSS 3/client/src/AuthPage.js"],"names":["React","useCallback","useContext","useEffect","useState","withRouter","axios","Application","AuthPage","email","setEmail","password","setPassword","loginHandler","objHandler","post","headers","then","response","localStorage","setItem","data","token","window","location","reload","e","alert","message","registerHandler","console","log","getItem","float","marginTop","marginRight","clear","display","justifyContent","marginLeft","marginBottom","textAlign","flexDirection","target","value","margin","fontWeight"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,SAAxC,EAAmDC,QAAnD,QAAkE,OAAlE;AACA,SAAQC,UAAR,QAA0B,kBAA1B;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAGA,MAAMC,QAAQ,GAAG,MAAM;AACtB,QAAK,CAACC,KAAD,EAAOC,QAAP,IAAiBN,QAAQ,CAAC,EAAD,CAA9B;AACC,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AAQF,QAAMS,YAAY,GAACZ,WAAW,CAAC,YAAS;AACpC,QAAG;AAAC,YAAMa,UAAU,GAAC;AACjBL,QAAAA,KADiB;AACXE,QAAAA;AADW,OAAjB;AAGJ,YAAML,KAAK,CAACS,IAAN,CAAW,QAAX,EAAoBD,UAApB,EAA+B;AACjCE,QAAAA,OAAO,EAAC;AACN,0BAAgB;AADV;AADyB,OAA/B,EAIDC,IAJC,CAIIC,QAAQ,IAAE;AAEhBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,QAAQ,CAACG,IAAT,CAAcC,KAA3C;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,OARK,CAAN;AAQI,KAXJ,CAYA,OAAMC,CAAN,EAAQ;AACJC,MAAAA,KAAK,CAACD,CAAC,CAACE,OAAH,CAAL;AACH;AAIJ,GAnB6B,CAA9B;AAsBA,QAAMC,eAAe,GAAC5B,WAAW,CAAC,YAAS;AAEvC,UAAMa,UAAU,GAAC;AACbL,MAAAA,KADa;AACPE,MAAAA;AADO,KAAjB;AAGA,UAAML,KAAK,CAACS,IAAN,CAAW,WAAX,EAAuBD,UAAvB,EAAkC;AACpCE,MAAAA,OAAO,EAAC;AACN,wBAAgB;AADV;AAD4B,KAAlC,EAIDC,IAJC,CAIIC,QAAQ,IAAEY,OAAO,CAACC,GAAR,CAAYb,QAAQ,CAACG,IAArB,CAJd,CAAN;AAOH,GAZgC,CAAjC;;AAeA,MAAIF,YAAY,CAACa,OAAb,CAAqB,OAArB,CAAJ,EAAkC;AAE9B,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC,OAAP;AAAgBC,QAAAA,SAAS,EAAE,KAA3B;AAAkCC,QAAAA,WAAW,EAAE;AAA/C,OAAf;AAAsE,MAAA,OAAO,EAAE,MAAI;AAC/EhB,QAAAA,YAAY,CAACiB,KAAb;AACAb,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACC,OAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,eAOD,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPC,CADJ;AAWH;;AAGC,sBAEE;AAAK,IAAA,KAAK,EAAE;AACVY,MAAAA,OAAO,EAAC,MADE;AAEVC,MAAAA,cAAc,EAAC,QAFL;AAGVC,MAAAA,UAAU,EAAE,MAHF;AAIVJ,MAAAA,WAAW,EAAE,MAJH;AAKVD,MAAAA,SAAS,EAAE,MALD;AAMVM,MAAAA,YAAY,EAAE;AANJ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWJ;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAE;AAAZ,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,KAAK,EAAE;AACRJ,MAAAA,OAAO,EAAC,MADA;AAERK,MAAAA,aAAa,EAAC;AAFN,KAAZ;AAGE,IAAA,SAAS,EAAC,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,eAKE;AACE,IAAA,WAAW,EAAC,kDADd;AAEE,IAAA,EAAE,EAAC,OAFL;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,SAAS,EAAC,cALZ;AAME,IAAA,KAAK,EAAEjC,KANT;AAOE,IAAA,QAAQ,EAAGiB,CAAD,IAAK;AAAChB,MAAAA,QAAQ,CAACgB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAR;AAAyB,KAP3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAFF,eAoBE;AAAM,IAAA,KAAK,EAAE;AACTP,MAAAA,OAAO,EAAC,MADC;AAETK,MAAAA,aAAa,EAAC;AAFL,KAAb;AAGG,IAAA,SAAS,EAAC,aAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAJJ,eAKE;AACE,IAAA,WAAW,EAAC,iFADd;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,SAAS,EAAC,cALZ;AAME,IAAA,KAAK,EAAE/B,QANT;AAOE,IAAA,QAAQ,EAAGe,CAAD,IAAK;AAACd,MAAAA,WAAW,CAACc,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAX;AAA4B,KAP9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CApBF,CAFF,CADF,eA2CE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,qBADZ;AAEE,IAAA,KAAK,EAAE;AAACT,MAAAA,WAAW,EAAE,EAAd;AAAkBM,MAAAA,SAAS,EAAE,QAA7B;AAAuCI,MAAAA,MAAM,EAAE,QAA/C;AACPR,MAAAA,OAAO,EAAE,OADF;AACeS,MAAAA,UAAU,EAAE;AAD3B,KAFT;AAIC,IAAA,OAAO,EAAEjC,YAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,CA3CF,CAFF,CADF,CAXI,CAFF;AAoFD,CAnJD;;AAoJA,eAAeR,UAAU,CAACG,QAAD,CAAzB","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {withRouter } from \"react-router-dom\";\r\n\r\n\r\nimport axios from 'axios'\r\nimport Application from './Application'\r\n\r\n\r\nconst AuthPage = () => {\r\n const[email,setEmail]=useState('')\r\n  const [password, setPassword] = useState('')\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nconst loginHandler=useCallback(async()=>{\r\n    try{const objHandler={\r\n        email,password\r\n    }\r\n    await axios.post('/login',objHandler,{\r\n        headers:{\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }).then(response=>{\r\n          \r\n        localStorage.setItem('token',response.data.token)\r\n        window.location.reload()\r\n    } )}\r\n    catch(e){\r\n        alert(e.message)\r\n    }\r\n\r\n\r\n\r\n})\r\n\r\n\r\nconst registerHandler=useCallback(async()=>{\r\n\r\n    const objHandler={\r\n        email,password\r\n    }\r\n    await axios.post('/register',objHandler,{\r\n        headers:{\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }).then(response=>console.log(response.data)) \r\n\r\n    \r\n})\r\n\r\n\r\nif (localStorage.getItem('token')){\r\n\r\n    return(\r\n        <div>\r\n            <button style={{float:\"right\", marginTop: \"3vh\", marginRight: \"0vh\"}} onClick={()=>{\r\n                localStorage.clear()\r\n                window.location.reload()\r\n                }}>\r\n              Выход\r\n            </button>\r\n       <Application/>\r\n       </div>    \r\n    )\r\n}\r\n\r\n\r\n  return (\r\n    \r\n    <div style={{\r\n      display:\"flex\",\r\n      justifyContent:\"center\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"15vh\",\r\n      marginBottom: \"15vh\",\r\n\r\n      \r\n      \r\n  }}>\r\n<div className=\"row\">\r\n  <div className=\"col s6 offset-s3\">\r\n    <h1 style={{textAlign: \"center\"}}>Вход</h1>\r\n    <div className=\"card blue darken-1\">\r\n      <div className=\"card-content white-text\">\r\n      \r\n        <div>\r\n\r\n          <div style={{\r\n              display:\"flex\",\r\n              flexDirection:\"column\"\r\n          }}className=\"input-field\">\r\n              <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              placeholder=\"Введите email\"\r\n              id=\"email\"\r\n              type=\"text\"\r\n              name=\"email\"\r\n              className=\"yellow-input\"\r\n              value={email}\r\n              onChange={(e)=>{setEmail(e.target.value)}}\r\n             \r\n            />\r\n            \r\n          </div>\r\n\r\n          <div  style={{\r\n              display:\"flex\",\r\n              flexDirection:\"column\"\r\n          }} className=\"input-field\">\r\n              <label htmlFor=\"email\">Пароль</label>\r\n            <input\r\n              placeholder=\"Введите пароль\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"yellow-input\"\r\n              value={password}\r\n              onChange={(e)=>{setPassword(e.target.value)}}\r\n              \r\n            />\r\n            \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn yellow darken-4\"\r\n          style={{marginRight: 10, textAlign: \"center\", margin: \"0 auto\",\r\n          display: \"block\",     fontWeight: \"500\"  }}\r\n         onClick={loginHandler}\r\n        >\r\n              Войти\r\n            </button>\r\n            {/* <button\r\n              className=\"btn yellow darken-4\"\r\n              style={{marginRight: 10}}\r\n              onClick={registerHandler}\r\n             \r\n            >\r\n              Регистрация\r\n            </button>\r\n          */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\nexport default withRouter(AuthPage)"]},"metadata":{},"sourceType":"module"}